# Han-Analytics

Â· Han-Analytics æ˜¯ä¸€ä¸ªç®€å•çš„ç½‘ç»œåˆ†æè·Ÿè¸ªå™¨å’Œä»ªè¡¨æ¿ï¼Œæ‰˜ç®¡åœ¨è¢«ç§°ä¸ºèµ›åšè©è¨çš„ Cloudflare ä¸Š,æ— æˆæœ¬ç¨³å®šè¿è¡Œ,æ¯å¤©å¯è¾¾10ä¸‡æ¬¡å…è´¹ç»Ÿè®¡ã€‚

Â· åŸŸåã€æœåŠ¡å™¨ã€æ•°æ®åº“ é€šé€šéƒ½ä¸ç”¨! æ‰˜ç®¡åœ¨ Cloudflare Pages ä¸Šå³å¯å¿«é€Ÿéƒ¨ç½²ç½‘ç«™åˆ†æä»ªè¡¨æ¿ã€‚

### é¡µé¢æˆªå›¾

![Han-Analytics](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727007937.webp)
![Han-Analytics](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1726993735.webp)

### æ–°å¢åŠŸèƒ½

ğŸŒ **äº¤äº’å¼åœ°å›¾å¯è§†åŒ–**
- åŸºäº ECharts çš„ä¸–ç•Œåœ°å›¾å±•ç¤ºè®¿å®¢åœ°ç†åˆ†å¸ƒ
- æ”¯æŒåœ°å›¾æ‹–æ‹½ã€ç¼©æ”¾ã€é‡ç½®è§†å›¾ç­‰äº¤äº’æ“ä½œ  
- æä¾›æ·±è‰²/æ˜äº®ä¸»é¢˜åˆ‡æ¢
- å®æ—¶æ˜¾ç¤ºå„å›½è®¿å®¢æ•°é‡å’Œåˆ†å¸ƒçƒ­åŠ›å›¾
- å“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§å±å¹•å°ºå¯¸

### éƒ¨ç½²

- ç™»å½•åˆ° [Cloudflare Login](https://dash.cloudflare.com/sign-up)ï¼Œæ²¡æœ‰çš„æ³¨å†Œä¸€ä¸ª [Cloudflare SignUp](https://dash.cloudflare.com/sign-up)
- ç‚¹å‡» Workers å’Œ Pages éšä¾¿åˆ›å»ºä¸€ä¸ª workers å¹¶å¼€å¯ åˆ†æå¼•æ“ï¼Œç„¶åå¤åˆ¶ workers ID å¤‡ç”¨ã€‚[æ“ä½œæˆªå›¾1](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727001144.webp)ï¼Œ[æ“ä½œæˆªå›¾2](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727001550.webp)
- åˆ›å»ºä¸€ä¸ª [Cloudflare API token](https://dash.cloudflare.com/profile/api-tokens) å¤‡ç”¨ã€‚[æ“ä½œæˆªå›¾1](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727001058.webp)ï¼Œ[æ“ä½œæˆªå›¾2](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727001090.webp)ï¼Œ[æ“ä½œæˆªå›¾3](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727001118.webp)
- Fork æ­¤ä»“åº“ æˆ– [ä½¿ç”¨æ­¤æ¨¡æ¿ç”Ÿæˆæ–°ä»“åº“](https://github.com/new?template_name=HanAnalytics&template_owner=uxiaohan)
- ç™»å½• Cloudflare å¹¶åˆ›å»º Pages é¡¹ç›® ï¼Œé“¾æ¥Githubä»“åº“ï¼Œé€‰æ‹©åˆšåˆš Fork çš„é¡¹ç›®ï¼Œæ¶æ„é€‰æ‹©Vueï¼Œå¡«å…¥ç¯å¢ƒå˜é‡ï¼ˆç¯å¢ƒå˜é‡å«ä¹‰å¦‚ä¸‹ï¼‰ï¼Œéƒ¨ç½²å³å¯ã€‚[æ“ä½œæˆªå›¾1](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727001163.webp)ï¼Œ[æ“ä½œæˆªå›¾2](https://i0.wp.com/uxiaohan.github.io/v2/2024/09/1727001181.webp)ï¼Œ[æ“ä½œæˆªå›¾3](https://i0.wp.com/uxiaohan.github.io/v2/2024/12/1734595834412.webp)
- cloudflare pages éƒ¨ç½²å®Œæˆåï¼Œåœ¨é¡¹ç›®çš„`è®¾ç½®`ä¸­é…ç½®`ç»‘å®š`ï¼Œæ·»åŠ `Analytics Engine`ï¼Œå˜é‡åç§°å¡«å†™`AnalyticsBinding`ï¼Œæ•°æ®é›†å¡«å†™`AnalyticsDataset`å¹¶ä¿å­˜ï¼Œé‡æ–°éƒ¨ç½²ï¼[æ“ä½œæˆªå›¾1](https://i0.wp.com/uxiaohan.github.io/v2/2024/12/1734596343524.webp)ã€‚
- é‡æ–°éƒ¨ç½²å®Œæˆåï¼Œè®¿é—® `https://xxxxxx.pages.dev` å³å¯è®¿é—®ç½‘ç«™åˆ†æä»ªè¡¨æ¿ã€‚ï¼ˆæ³¨æ„ï¼šé¦–æ¬¡éƒ¨ç½²ç”Ÿæˆçš„åŸŸåå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ç”Ÿæ•ˆï¼Œè¯·è€å¿ƒç­‰å¾…ï¼‰
- éƒ¨ç½²æˆåŠŸåï¼Œé¦–æ¬¡æ‰“å¼€é¡µé¢æ²¡æœ‰æ•°æ®ï¼Œè¯·å°½å¿«é›†æˆåˆ°è‡ªå·±çš„ç½‘ç«™å¹¶å‡ºç°æœ‰æ•ˆè®¿é—®åï¼Œå†æ¬¡æ‰“å¼€é¡µé¢å³å¯çœ‹åˆ°æ•°æ®ï¼
- æ–°å¢ `å¯†ç è®¿é—®` åŠ `ç½‘ç«™ç™½åå•`ï¼Œå¼€å¯å¯†ç åï¼Œè¾“å…¥å¯†ç å¯è®¿é—®ï¼ˆé»˜è®¤æ— éœ€å¯†ç ï¼‰ï¼Œç½‘ç«™ç™½åå•åŠŸèƒ½ï¼ŒåŠ ç™½çš„ç½‘ç«™æ‰å¯è®¡å…¥ç»Ÿè®¡ï¼ˆé»˜è®¤ä»»æ„ç½‘ç«™éƒ½å¯ç»Ÿè®¡ï¼‰

### ç¯å¢ƒå˜é‡è¯´æ˜
```shell
# Cloudflare Workers ID
CLOUDFLARE_ACCOUNT_ID = ä½ çš„ Cloudflare Workers ID

# ä½ çš„ Cloudflare API token
CLOUDFLARE_API_TOKEN = ä½ çš„ Cloudflare API token

# ç½‘ç«™è®¿é—®å¯†ç  (ä¸è®¾ç½®å³æ— éœ€å¯†ç è®¿é—®)
CLOUDFLARE_WEBSITE_PWD = 

# å¯ç»Ÿè®¡çš„ç™½åå• æ ¼å¼ï¼š  åŸŸå,WebSite|åŸŸå,WebSiteï¼Œå¤šä¸ªç«™ç‚¹ä½¿ç”¨|åˆ†éš” ä¾‹å¦‚ï¼šapi.vvhan.com,Hello-Han-Api|www.vvhan.com,Hello-HanHexoBlog  (ä¸è®¾ç½®å³å…è®¸ä»»ä½•ç»Ÿè®¡)
CLOUDFLARE_WEBSITE_WHITELIST = 
```

### ç»‘å®š
```shell
# å˜é‡å
AnalyticsBinding
# æ•°æ®é›†
AnalyticsDataset
```

### é›†æˆä½¿ç”¨

```js
// åœ¨ç½‘ç«™åº•éƒ¨æ’å…¥ä»¥ä¸‹ä»£ç å³å¯é›†æˆç½‘ç«™åˆ†æä»ªè¡¨æ¿
<script defer src="https://xxxxxx.pages.dev/tracker.min.js" data-website-id="è‡ªå®šä¹‰ç½‘ç«™å”¯ä¸€æ ‡è¯†"></script>
```

### æ•°æ®é—®é¢˜

æ•°æ®é—®é¢˜ä¸€èˆ¬æ˜¯ç”±äº Cloudflare Analytics Engine æ— æ³•è®¿é—®ç½‘ç«™å¯¼è‡´çš„ï¼Œè¯·ç¡®ä¿ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œå¹¶ä¸” Cloudflare Analytics Engine å·²ç»å¼€å¯ã€‚

ä½¿ç”¨ Cloudflare Analytics Engine æ•°æ®é›†ï¼Œå®ƒå®Œå…¨é€šè¿‡ HTTP ä½¿ç”¨ Cloudflare çš„ API è¿›è¡Œé€šä¿¡ï¼Œæ•°æ®å®Œå…¨æ¥æºäº Cloudflare Analaytics Engine æ•°æ®é›†ä¸­è¯»å–
Cloudflare Analytics Engine ä½¿ç”¨æŠ½æ ·æŠ€æœ¯ï¼Œä»¥å¯æ‰¿å—çš„è§„æ¨¡åŒ–æ–¹å¼å®ç°å¤§é‡æ•°æ®æå–/æŸ¥è¯¢ï¼ˆè¿™ç±»ä¼¼äºå¤§å¤šæ•°å…¶ä»–åˆ†æå·¥å…·ï¼Œè¯·å‚é˜…Google Analytics ä¸Šçš„æŠ½æ ·ï¼‰ã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„è¯¦ç»†äº†è§£æŠ½æ ·æŠ€æœ¯å¦‚ä½•ä¸ CF AE é…åˆä½¿ç”¨ã€‚

### ä½¿ç”¨è¯´æ˜

https://www.vvhan.com/article/han-analytics


## Stargazers over time

![Stargazers over time](https://starchart.cc/uxiaohan/HanAnalytics.svg?variant=adaptive)